<!DOCTYPE html>
<html>
<head>

<title>Quiz</title>
<link href ="css/Style_Quiz.css.css" rel ="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
<link rel="shortcut icon" href="Conteudo/SimboloKame.png" type="image/x-icon">
</head>
<nav>
    <ul>
        <li><a href="Ranking.html">Ranking</a></li>
        <li><a href="index.html">Sair</a></li>
    </ul>
</nav>   
<h1>QUIZ DRAGON BALL</h1>


<form id = "Quiz" name = "quiz">

<div id="Pergunta1">
<p class = "Perguntas">Qual foi o Vilão de DBZ que matou todos os Seres Humanos?</p>
<input type = "radio" id = "Radio1" name = "Questao1" value = "0"> -Raditz<br>
<input type = "radio" id = "Radio1" name = "Questao1" value = "0"> -Cell<br>
<input type = "radio" id = "Radio1" name = "Questao1" value = "0"> -Freeza<br>
<input type = "radio" id = "Radio1" name = "Questao1" value = "1"> -Majin Boo<br>
</div>

<div id="Pergunta2">
<p class = "Perguntas">O que você precisa ter para subir na Nuvem Voadora?</p>
<input type = "radio" id = "Radio1" name = "Questao2" value = "1"> - Ter o Coração Puro<br>
<input type = "radio" id = "Radio1" name = "Questao2" value = "0"> -Ser Inteligente<br>
<input type = "radio" id = "Radio1" name = "Questao2" value = "0"> -Ser Orgulhoso<br>
<input type = "radio" id = "Radio1" name = "Questao2" value = "0"> -Ter Poderes<br>
</div>

<div id="Pergunta3">
<p class = "Perguntas">Qual o Nome da Reencarnação de Majin Buu?</p>
<input type = "radio" id = "Radio1" name = "Questao3" value = "1"> -Uub<br>
<input type = "radio" id = "Radio1" name = "Questao3" value = "0"> -Uubu<br>
<input type = "radio" id = "Radio1" name = "Questao3" value = "0"> -Bubu<br>
<input type = "radio" id = "Radio1" name = "Questao3" value = "0"> -Buu<br>
</div>

<div id="Pergunta4">
<p class = "Perguntas">Quem foi o primeiro a se transformar em Super Saiyajin 2?</p>
<input type = "radio" id = "Radio1" name = "Questao4" value = "0"> -Goku<br>
<input type = "radio" id = "Radio1" name = "Questao4" value = "1"> -Gohan<br>
<input type = "radio" id = "Radio1" name = "Questao4" value = "0"> -Vegeta<br>
<input type = "radio" id = "Radio1" name = "Questao4" value = "0"> -Bardock<br>
</div>

<div id="Pergunta5">
<p class = "Perguntas">Quem é o Melhor Amigo(a) de Goku?</p>
<input type = "radio" id = "Radio1" name = "Questao5" value = "0"> -Piccolo<br>
<input type = "radio" id = "Radio1" name = "Questao5" value = "0"> -Bulma<br>
<input type = "radio" id = "Radio1" name = "Questao5" value = "1"> -Kuririn<br>
<input type = "radio" id = "Radio1" name = "Questao5" value = "0"> -Yamcha<br>
</div>

<div id="Pergunta6">
<p class = "Perguntas">Quem o Vilão Cell Absorveu para Alcançar a forma Perfeita?</p>
<input type = "radio" id = "Radio1" name = "Questao6" value = "1"> -N° 17 e N° 18<br>
<input type = "radio" id = "Radio1" name = "Questao6" value = "0"> -Piccolo e Kuririn<br>
<input type = "radio" id = "Radio1" name = "Questao6" value = "0"> -Android 16 e Android 19<br>
<input type = "radio" id = "Radio1" name = "Questao6" value = "0"> -Goku e Vegeta<br>
</div>

<div id="Pergunta7">
<p class = "Perguntas">Quem dá os Poderes Místicos do Gohan?</p>
<input type = "radio" id = "Radio1" name = "Questao7" value = "0"> -Senhor Kaioh<br>
<input type = "radio" id = "Radio1" name = "Questao7" value = "0"> -Grande Kaioh<br>
<input type = "radio" id = "Radio1" name = "Questao7" value = "0"> -Supremo Senhor Kaioh<br>
<input type = "radio" id = "Radio1" name = "Questao7" value = "1"> -Supremo Senhor Kaioh, 15 Gerações Passadas<br>
</div>

<div id="Pergunta8">
<p class = "Perguntas">Quem é o Pai do Goku?</p>
<input type = "radio" id = "Radio1" name = "Questao8" value = "0"> -Teishinhan<br>
<input type = "radio" id = "Radio1" name = "Questao8" value = "1"> -Bardock<br>
<input type = "radio" id = "Radio1" name = "Questao8" value = "0"> -Nappa<br>
<input type = "radio" id = "Radio1" name = "Questao8" value = "0"> -Grandpa Son Gohan<br>
</div>

<div id="Pergunta9">
<p class = "Perguntas">Quem era o Melhor Amigo do Gohan do Futuro?</p>
<input type = "radio" id = "Radio1" name = "Questao9" value = "0"> -Kuririn<br>
<input type = "radio" id = "Radio1" name = "Questao9" value = "0"> -Piccolo<br>
<input type = "radio" id = "Radio1" name = "Questao9" value = "1"> -Trunks<br>
<input type = "radio" id = "Radio1" name = "Questao9" value = "0"> -Mr. Satan<br>
</div>

<div id="Pergunta10">
<p class = "Perguntas">Qual desses Personagens é o mais Forte?</p>
<input type = "radio" id = "Radio1" name = "Questao10" value = "0"> Super Boo<br>
<input type = "radio" id = "Radio1" name = "Questao10" value = "0"> Majin Vegeta<br>
<input type = "radio" id = "Radio1" name = "Questao10" value = "1"> Gohan Mistico<br>
<input type = "radio" id = "Radio1" name = "Questao10" value = "0"> Goku Super Saiyajin 3<br>
</div>

<input id = "button" type = "button" value = "Finalizar" onclick = "check();">

</form>

<div id = "MostrarConteudo" style="display: none;">
<p id = "NumerosDeAcertos"></p>
<p id = "Mensagem"></p>
<img id = "Imagem">
</div>
</html>

<section class="images">
    <img src="Conteudo/Goku.png" id="ImagemResposta" style="display: block;">
    <div class="circle"></div>
</section>

</body>

<script>

function check(){

    MostrarConteudo.style.display = "block"
    ImagemResposta.style.display = "none"

var Questao1 = quiz.Questao1.value;
var Questao2 = quiz.Questao2.value;
var Questao3 = quiz.Questao3.value;
var Questao4 = quiz.Questao4.value;
var Questao5 = quiz.Questao5.value;
var Questao6 = quiz.Questao6.value;
var Questao7 = quiz.Questao7.value;
var Questao8 = quiz.Questao8.value;
var Questao9 = quiz.Questao9.value;
var Questao10 = quiz.Questao10.value;
var Acertos = 0;
var Pontos = 0


if (Questao1 == "1") {
    Acertos++;
    Pontos += 5
    Pergunta1.style.color = "green"
}else{
    Pergunta1.style.color = "blue"
}

if (Questao2 == "1") {
    Acertos++;
    Pontos += 5
    Pergunta2.style.color = "green"
}else{
    Pergunta2.style.color = "blue"
}

if (Questao3 == "1") {
    Acertos++;
    Pontos += 5
    Pergunta3.style.color = "green"
}else{
    Pergunta3.style.color = "blue"
}

if(Questao4 == "1"){
    Acertos++;
    Pontos += 5
    Pergunta4.style.color = "green"
}else{
    Pergunta4.style.color = "blue"
}

if(Questao5 == "1"){
    Acertos++;
    Pontos += 5
    Pergunta5.style.color = "green"
}else{
    Pergunta5.style.color = "blue"
}

if(Questao6 == "1"){
    Acertos++;
    Pontos += 5
    Pergunta6.style.color = "green"
}else{
    Pergunta6.style.color = "blue"
}

if(Questao7 == "1"){
    Acertos++;
    Pontos += 5
    Pergunta7.style.color = "green"
}else{
    Pergunta7.style.color = "blue"
}

if(Questao8 == "1"){
    Acertos++;
    Pontos += 5
    Pergunta8.style.color = "green"
}else{
    Pergunta8.style.color = "blue"
}

if(Questao9 == "1"){
    Acertos++;
    Pontos += 5
    Pergunta9.style.color = "green"
}else{
    Pergunta9.style.color = "blue"
}

if(Questao10 == "1"){
    Acertos++;
    Pontos += 5
    Pergunta10.style.color = "green"
}else{
    Pergunta10.style.color = "blue"
}


var VtImagens = ["Conteudo/img/Ganhar.png", "Conteudo/img/Medio.png", "Conteudo/img/Perder.png"];
var VtMensagem = ["VOCÊ É UM SUPER SAYAJIN!!", "LEGAL PARECE QUE VOCÊ GOSTA DE DRAGON BALL", "ENTENDE POUCO SOBRE DRAGON BALL"];
var index

if (Acertos >= 0 && Acertos <=4 ) {
    index = 2;
}

if (Acertos >= 5 && Acertos <= 7) {
    index = 1;
}

if (Acertos > 7) {
    index = 0;
}

var Comentario = window.prompt('O Que Você achou do Quiz Dragon Ball, Deixe seu Comentário!!')

document.getElementById("Mensagem").innerHTML = VtMensagem[index];
document.getElementById("NumerosDeAcertos").innerHTML = `""VOCÊ ACERTOU ${Acertos} QUESTÕES E FICOU COM ${Pontos} PONTOS""`;
document.getElementById("Imagem").src = VtImagens[index];

RegistrarPontuacao(Pontos, Acertos)
RegistrarComentario(Comentario)

}

function RegistrarPontuacao(Pontos, Acertos){

	
var fkUsuario = sessionStorage.ID_USUARIO

	fetch("/usuarios/RegistrarPontos", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                // crie um atributo que recebe o valor recuperado aqui
                // Agora vá para o arquivo routes/usuario.js
                PontosServer: Pontos,
				fkUsuarioServer: fkUsuario,
				AcertosServer: Acertos
				
            })
        }).then(function (RespostaCorreta) {


            if (RespostaCorreta.ok) {
                console.log('Registrado com Sucesso')
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (RespostaCorreta) {
            console.log(`#ERRO: ${RespostaCorreta}`);

        });

        return false;
}

function RegistrarComentario(Comentario){

var fk_Usuario = sessionStorage.ID_USUARIO

	fetch("/usuarios/RegistrarComentario", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                // crie um atributo que recebe o valor recuperado aqui
                // Agora vá para o arquivo routes/usuario.js
                ComentarioServer: Comentario,
				fk_UsuarioServer: fk_Usuario
				
            })
        }).then(function (RespostaCorreta) {


            if (RespostaCorreta.ok) {
                console.log('Registrado com Sucesso')
            } else {
                throw ("Houve um erro ao tentar realizar o comentario!");
            }
        }).catch(function (RespostaCorreta) {
            console.log(`#ERRO: ${RespostaCorreta}`);

        });

        return false;
}
</script>



